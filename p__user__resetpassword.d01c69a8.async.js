(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[4581],{99165:function(x,h,e){"use strict";e.d(h,{Z:function(){return I}});var p=e(28991),m=e(67294),C={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"},r=C,Z=e(27029),v=function(A,R){return m.createElement(Z.Z,(0,p.Z)((0,p.Z)({},A),{},{ref:R,icon:r}))};v.displayName="CopyOutlined";var I=m.forwardRef(v)},952:function(x,h,e){"use strict";var p=e(56640),m=e.n(p),C=e(5894);h.ZP=C.A},5894:function(x,h,e){"use strict";e.d(h,{A:function(){return S}});var p=e(9715),m=e(86835),C=e(22122),r=e(67294),Z=e(96156),v=e(49111),I=e(19650),F=e(84305),A=e(75901),R=e(28481),d=e(28991),u=e(8812),s=e(66758),f=e(96138),i=e(56725),E=e(53621),t=e(94184),c=e.n(t),H=e(2514),K=r.forwardRef(function(P,G){var W=r.useContext(s.Z),w=W.groupProps,_=(0,d.Z)((0,d.Z)({},w),P),ee=_.children,M=_.collapsible,n=_.defaultCollapsed,re=_.style,me=_.labelLayout,te=_.title,Y=te===void 0?P.label:te,se=_.tooltip,j=_.align,L=j===void 0?"start":j,O=_.direction,N=_.size,a=N===void 0?32:N,ne=_.titleStyle,ae=_.titleRender,B=_.spaceProps,J=_.extra,oe=_.autoFocus,fe=(0,i.Z)(function(){return n||!1},{value:P.collapsed,onChange:P.onCollapse}),Q=(0,R.Z)(fe,2),X=Q[0],ge=Q[1],he=(0,r.useContext)(A.ZP.ConfigContext),le=he.getPrefixCls,z=(0,H.z)(P),ue=z.ColWrapper,ie=z.RowWrapper,b=le("pro-form-group"),ce=M&&r.createElement(u.Z,{style:{marginRight:8},rotate:X?void 0:90}),de=r.createElement(E.Z,{label:ce?r.createElement("div",null,ce,Y):Y,tooltip:se}),pe=(0,r.useCallback)(function(g){var o=g.children;return r.createElement(I.Z,(0,C.Z)({},B,{className:"".concat(b,"-container"),size:a,align:L,direction:O,style:(0,d.Z)({rowGap:0},B==null?void 0:B.style)}),o)},[L,b,O,a,B]),k=ae?ae(de,P):de,_e=(0,r.useMemo)(function(){var g=[],o=r.Children.toArray(ee).map(function(l,y){var D;return r.isValidElement(l)&&(l==null||(D=l.props)===null||D===void 0?void 0:D.hidden)?(g.push(l),null):y===0&&r.isValidElement(l)&&oe?r.cloneElement(l,(0,d.Z)((0,d.Z)({},l.props),{},{autoFocus:oe})):l});return[r.createElement(ie,{key:"children",Wrapper:pe},o),g.length>0?r.createElement("div",{style:{display:"none"}},g):null]},[ee,ie,pe,oe]),ve=(0,R.Z)(_e,2),Ee=ve[0],Pe=ve[1];return r.createElement(ue,null,r.createElement("div",{className:c()(b,(0,Z.Z)({},"".concat(b,"-twoLine"),me==="twoLine")),style:re,ref:G},Pe,(Y||se||J)&&r.createElement("div",{className:"".concat(b,"-title"),style:ne,onClick:function(){ge(!X)}},J?r.createElement("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"}},k,r.createElement("span",{onClick:function(o){return o.stopPropagation()}},J)):k),M&&X?null:Ee))});K.displayName="ProForm-Group";var T=K,U=e(7525),$=e(88374);function S(P){return r.createElement($.I,(0,C.Z)({layout:"vertical",submitter:{render:function(W,w){return w.reverse()}},contentRender:function(W,w){return r.createElement(r.Fragment,null,W,w)}},P))}S.Group=T,S.useForm=m.Z.useForm,S.Item=U.Z},53621:function(x,h,e){"use strict";var p=e(22385),m=e(61580),C=e(96156),r=e(84305),Z=e(75901),v=e(67294),I=e(68628),F=e(47369),A=e.n(F),R=e(94184),d=e.n(R),u=function(f){var i=f.label,E=f.tooltip,t=f.ellipsis,c=f.subTitle,H=(0,v.useContext)(Z.ZP.ConfigContext),K=H.getPrefixCls;if(!E&&!c)return v.createElement(v.Fragment,null,i);var T=K("pro-core-label-tip"),U=typeof E=="string"||v.isValidElement(E)?{title:E}:E,$=(U==null?void 0:U.icon)||v.createElement(I.Z,null);return v.createElement("div",{className:T,onMouseDown:function(P){return P.stopPropagation()},onMouseLeave:function(P){return P.stopPropagation()},onMouseMove:function(P){return P.stopPropagation()}},v.createElement("div",{className:d()("".concat(T,"-title"),(0,C.Z)({},"".concat(T,"-title-ellipsis"),t))},i),c&&v.createElement("div",{className:"".concat(T,"-subtitle")},c),E&&v.createElement(m.Z,U,v.createElement("span",{className:"".concat(T,"-icon")},$)))};h.Z=v.memo(u)},63428:function(x){x.exports={container:"container___2Pt40",lang:"lang___2c13C",content:"content___2HTUV",top:"top___2Df1Y",header:"header___UQ0-0",logo:"logo___3QU8L",title:"title___uOiqz",desc:"desc___2D_r1",main:"main___umCy-",icon:"icon___1lR2b",other:"other___6XEbZ",register:"register___3YV53",prefixIcon:"prefixIcon___2jFq8"}},96138:function(){},56640:function(){},47369:function(){},97181:function(x,h,e){"use strict";e.r(h),e.d(h,{default:function(){return se}});var p=e(57663),m=e(71577),C=e(20136),r=e(55241),Z=e(47673),v=e(4107),I=e(11849),F=e(34669),A=e(54458),R=e(34792),d=e(48086),u=e(3182),s=e(2824),f=e(9715),i=e(86835),E=e(94043),t=e.n(E),c=e(67294),H=e(952),K=e(73631),T=e(43581),U=e(73727),$=e(39031);function S(j){return P.apply(this,arguments)}function P(){return P=_asyncToGenerator(_regeneratorRuntime.mark(function j(L){var O;return _regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,post("/api/auth/forgot-password",L);case 2:return O=a.sent,a.abrupt("return",O);case 4:case"end":return a.stop()}},j)})),P.apply(this,arguments)}function G(j){return W.apply(this,arguments)}function W(){return W=(0,u.Z)(t().mark(function j(L){var O;return t().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,$.v_)("/api/auth/verify-token",L);case 2:return O=a.sent,a.abrupt("return",O);case 4:case"end":return a.stop()}},j)})),W.apply(this,arguments)}function w(j){return _.apply(this,arguments)}function _(){return _=(0,u.Z)(t().mark(function j(L){var O;return t().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,$.v_)("/api/auth/reset-password",L);case 2:return O=a.sent,a.abrupt("return",O);case 4:case"end":return a.stop()}},j)})),_.apply(this,arguments)}var ee=e(63428),M=e.n(ee),n=e(85893),re=i.Z.Item,me={ok:(0,n.jsx)("div",{className:M().success,children:(0,n.jsx)("span",{children:"Strength: strong"})}),pass:(0,n.jsx)("div",{className:M().warning,children:(0,n.jsx)("span",{children:"Strength: Medium"})}),poor:(0,n.jsx)("div",{className:M().error,children:(0,n.jsx)("span",{children:"Strength: too short"})})},te={ok:"success",pass:"normal",poor:"exception"},Y=function(L){var O=i.Z.useForm(),N=(0,s.Z)(O,1),a=N[0],ne=(0,T.YB)(),ae=(0,c.useState)(!1),B=(0,s.Z)(ae,2),J=B[0],oe=B[1],fe=(0,c.useState)(""),Q=(0,s.Z)(fe,2),X=Q[0],ge=Q[1],he=(0,c.useState)(!1),le=(0,s.Z)(he,2),z=le[0],ue=le[1],ie=(0,c.useState)(!1),b=(0,s.Z)(ie,2),ce=b[0],de=b[1],pe=!1;(0,c.useEffect)(function(){var g=L.location.query.token;console.log("token",g);var o=function(){var l=(0,u.Z)(t().mark(function y(){var D;return t().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.next=2,G({token:g});case 2:D=q.sent,D instanceof Error?(d.default.error(D.message),T.m8.push("/user/login")):ge(g);case 4:case"end":return q.stop()}},y)}));return function(){return l.apply(this,arguments)}}();o()},[]);var k=function(){var o=a.getFieldValue("password");return o&&o.length>9?"ok":o&&o.length>5?"pass":"poor"},_e=function(){var o=a.getFieldValue("password"),l=k();return o&&o.length?(0,n.jsx)("div",{className:M()["progress-".concat(l)],children:(0,n.jsx)(A.Z,{status:te[l],className:M().progress,strokeWidth:6,percent:o.length*10>100?100:o.length*10,showInfo:!1})}):null},ve=function(o,l){var y=Promise;return l?(z||ue(!!l),de(!ce),l.length<6?y.reject(""):(l&&pe&&a.validateFields(["confirm"]),y.resolve())):(ue(!!l),y.reject("Please enter your password!"))},Ee=function(o,l){var y=Promise;return l&&l!==a.getFieldValue("password")?y.reject("The passwords entered twice do not match!"):y.resolve()},Pe=function(){var g=(0,u.Z)(t().mark(function o(l){var y;return t().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return console.log("values",l),V.next=3,w((0,I.Z)((0,I.Z)({},l),{},{token:X}));case 3:y=V.sent,console.log(y),y instanceof Error?d.default.error(y.message):(d.default.success(y.message),a.resetFields(),T.m8.push("/user/login"));case 6:case"end":return V.stop()}},o)}));return function(l){return g.apply(this,arguments)}}();return(0,n.jsxs)("div",{className:M().container,children:[(0,n.jsxs)("div",{className:M().content,children:[(0,n.jsxs)("div",{className:M().top,children:[(0,n.jsx)("div",{className:M().header,children:(0,n.jsxs)(U.rU,{to:"/",children:[(0,n.jsx)("img",{alt:"logo",className:M().logo,src:"/logo.svg"}),(0,n.jsx)("span",{className:M().title,children:"Ant Design"})]})}),(0,n.jsx)("div",{className:M().desc,children:ne.formatMessage({id:"pages.layouts.userLayout.title"})})]}),(0,n.jsxs)("div",{className:M().main,children:[(0,n.jsxs)(H.ZP,{submitter:{searchConfig:{submitText:ne.formatMessage({id:"pages.form.submit",defaultMessage:"Log in"})},render:function(o,l){return l.pop()},submitButtonProps:{loading:J,size:"large",style:{width:"100%"}}},onFinish:function(){var g=(0,u.Z)(t().mark(function o(l){return t().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,Pe(l);case 2:case"end":return D.stop()}},o)}));return function(o){return g.apply(this,arguments)}}(),form:a,children:[(0,n.jsx)(r.Z,{getPopupContainer:function(o){return o&&o.parentNode?o.parentNode:o},content:z&&(0,n.jsxs)("div",{style:{padding:"4px 0"},children:[me[k()],_e(),(0,n.jsx)("div",{style:{marginTop:10},children:(0,n.jsx)("span",{children:"Please enter at least 6 characters. Please do not use passwords that are easy to guess."})})]}),overlayStyle:{width:240},placement:"right",visible:z,children:(0,n.jsx)(re,{name:"password",className:a.getFieldValue("password")&&a.getFieldValue("password").length>0&&M().password,rules:[{validator:ve}],children:(0,n.jsx)(v.Z,{size:"large",type:"password",placeholder:"At least 6 digit password, case sensitive"})})}),(0,n.jsx)(re,{name:"confirm",rules:[{required:!0,message:"Confirm password"},{validator:Ee}],children:(0,n.jsx)(v.Z,{size:"large",type:"password",placeholder:"Confirm password"})})]}),(0,n.jsx)("div",{style:{marginTop:24},children:(0,n.jsx)(m.Z,{block:!0,type:"default",children:(0,n.jsx)(U.rU,{to:"/user/login",children:(0,n.jsx)(T._H,{id:"pages.login.submit",defaultMessage:"Login"})})})})]})]}),(0,n.jsx)(K.Z,{})]})},se=Y},39031:function(x,h,e){"use strict";e.d(h,{U2:function(){return I},v_:function(){return F},gz:function(){return A},IV:function(){return R}});var p=e(3182),m=e(11849),C=e(94043),r=e.n(C),Z=e(11238),v=e(43581);Z.ZP.interceptors.request.use(function(d,u){var s=localStorage.getItem("auth");if(s&&JSON.parse(s)){var f=JSON.parse(s),i=f.token;i?u.headers.Authorization="Bearer ".concat(i):u.headers.Authorization=null}return console.log("url","http://localhost:8002",d),u.headers["rbac-client-time"]="".concat(new Date," "),{url:"".concat("http://localhost:8002").concat(d),options:(0,m.Z)((0,m.Z)({},u),{},{interceptors:!0})}}),Z.ZP.interceptors.response.use(function(){var d=(0,p.Z)(r().mark(function u(s,f){var i,E;return r().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(s.status!==401){c.next=4;break}return localStorage.removeItem("auth"),v.m8.replace({pathname:"/user/login"}),c.abrupt("return",{name:s.name});case 4:if(s.status!==403){c.next=7;break}return v.m8.replace({pathname:"/exception/403"}),c.abrupt("return",{name:s.name});case 7:if(s.status!==404){c.next=10;break}return v.m8.replace({pathname:"/exception/404"}),c.abrupt("return",{name:s.name});case 10:if(s.status!==400){c.next=18;break}return c.next=13,s.clone().json();case 13:return i=c.sent,console.log("data",i),E=new Error(i.message),E.error=i.error,c.abrupt("return",E);case 18:return c.abrupt("return",s);case 19:case"end":return c.stop()}},u)}));return function(u,s){return d.apply(this,arguments)}}());var I=function(){var d=(0,p.Z)(r().mark(function u(s,f,i){return r().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,Z.ZP)(s,(0,m.Z)({method:"GET",params:f,skipErrorHandler:!0},i||{})));case 1:case"end":return t.stop()}},u)}));return function(s,f,i){return d.apply(this,arguments)}}(),F=function(){var d=(0,p.Z)(r().mark(function u(s,f,i){return r().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,Z.ZP)(s,(0,m.Z)({method:"POST",data:f,skipErrorHandler:!0},i||{}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},u)}));return function(s,f,i){return d.apply(this,arguments)}}(),A=function(){var d=(0,p.Z)(r().mark(function u(s,f,i){return r().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,Z.ZP)(s,(0,m.Z)({method:"PUT",data:f,skipErrorHandler:!0},i||{})));case 1:case"end":return t.stop()}},u)}));return function(s,f,i){return d.apply(this,arguments)}}(),R=function(){var d=(0,p.Z)(r().mark(function u(s,f,i){return r().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,Z.ZP)(s,(0,m.Z)({method:"DELETE",data:f,skipErrorHandler:!0},i||{})));case 1:case"end":return t.stop()}},u)}));return function(s,f,i){return d.apply(this,arguments)}}()},15746:function(x,h,e){"use strict";var p=e(21584);h.Z=p.Z},89032:function(x,h,e){"use strict";var p=e(38663),m=e.n(p),C=e(6999)},71230:function(x,h,e){"use strict";var p=e(92820);h.Z=p.Z},13062:function(x,h,e){"use strict";var p=e(38663),m=e.n(p),C=e(6999)},97435:function(x,h){"use strict";function e(p,m){for(var C=Object.assign({},p),r=0;r<m.length;r+=1){var Z=m[r];delete C[Z]}return C}h.Z=e}}]);
