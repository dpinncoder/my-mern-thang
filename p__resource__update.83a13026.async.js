(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[8579],{64317:function(S,D,e){"use strict";var v=e(22122),y=e(28991),t=e(81253),l=e(67294),b=e(62404),P=e(22270),M=e(66758),A=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],L=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],C=l.forwardRef(function(n,d){var s=n.fieldProps,o=n.children,Z=n.params,_=n.proFieldProps,f=n.mode,a=n.valueEnum,m=n.request,E=n.showSearch,r=n.options,c=(0,t.Z)(n,A),T=(0,l.useContext)(M.Z);return l.createElement(b.Z,(0,v.Z)({mode:"edit",valueEnum:(0,P.h)(a),request:m,params:Z,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,y.Z)({options:r,mode:f,showSearch:E,getPopupContainer:T.getPopupContainer},s),ref:d,proFieldProps:_},c),o)}),h=l.forwardRef(function(n,d){var s=n.fieldProps,o=n.children,Z=n.params,_=n.proFieldProps,f=n.mode,a=n.valueEnum,m=n.request,E=n.options,r=(0,t.Z)(n,L),c=(0,y.Z)({options:E,mode:f||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},s),T=(0,l.useContext)(M.Z);return l.createElement(b.Z,(0,v.Z)({mode:"edit",valueEnum:(0,P.h)(a),request:m,params:Z,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,y.Z)({getPopupContainer:T.getPopupContainer},c),ref:d,proFieldProps:_},r),o)}),i=C,u=h,p=i;p.SearchSelect=u,p.displayName="ProFormComponent",D.Z=p},5966:function(S,D,e){"use strict";var v=e(22122),y=e(81253),t=e(67294),l=e(62404),b=["fieldProps","proFieldProps"],P=["fieldProps","proFieldProps"],M="text",A=function(i){var u=i.fieldProps,p=i.proFieldProps,n=(0,y.Z)(i,b);return t.createElement(l.Z,(0,v.Z)({mode:"edit",valueType:M,fieldProps:u,filedConfig:{valueType:M},proFieldProps:p},n))},L=function(i){var u=i.fieldProps,p=i.proFieldProps,n=(0,y.Z)(i,P);return t.createElement(l.Z,(0,v.Z)({mode:"edit",valueType:"password",fieldProps:u,proFieldProps:p,filedConfig:{valueType:M}},n))},C=A;C.Password=L,C.displayName="ProFormComponent",D.Z=C},952:function(S,D,e){"use strict";var v=e(56640),y=e.n(v),t=e(5894);D.ZP=t.A},5894:function(S,D,e){"use strict";e.d(D,{A:function(){return E}});var v=e(9715),y=e(86835),t=e(22122),l=e(67294),b=e(96156),P=e(49111),M=e(19650),A=e(84305),L=e(75901),C=e(28481),h=e(28991),i=e(8812),u=e(66758),p=e(96138),n=e(56725),d=e(53621),s=e(94184),o=e.n(s),Z=e(2514),_=l.forwardRef(function(r,c){var T=l.useContext(u.Z),x=T.groupProps,g=(0,h.Z)((0,h.Z)({},x),r),I=g.children,R=g.collapsible,B=g.defaultCollapsed,K=g.style,V=g.labelLayout,z=g.title,$=z===void 0?r.label:z,w=g.tooltip,Y=g.align,k=Y===void 0?"start":Y,q=g.direction,ee=g.size,se=ee===void 0?32:ee,me=g.titleStyle,te=g.titleRender,G=g.spaceProps,H=g.extra,F=g.autoFocus,ve=(0,n.Z)(function(){return B||!1},{value:r.collapsed,onChange:r.onCollapse}),re=(0,C.Z)(ve,2),ae=re[0],pe=re[1],fe=(0,l.useContext)(L.ZP.ConfigContext),oe=fe.getPrefixCls,ie=(0,Z.z)(r),Ee=ie.ColWrapper,O=ie.RowWrapper,J=oe("pro-form-group"),U=R&&l.createElement(i.Z,{style:{marginRight:8},rotate:ae?void 0:90}),ue=l.createElement(d.Z,{label:U?l.createElement("div",null,U,$):$,tooltip:w}),ne=(0,l.useCallback)(function(N){var Q=N.children;return l.createElement(M.Z,(0,t.Z)({},G,{className:"".concat(J,"-container"),size:se,align:k,direction:q,style:(0,h.Z)({rowGap:0},G==null?void 0:G.style)}),Q)},[k,J,q,se,G]),ce=te?te(ue,r):ue,de=(0,l.useMemo)(function(){var N=[],Q=l.Children.toArray(I).map(function(W,ge){var j;return l.isValidElement(W)&&(W==null||(j=W.props)===null||j===void 0?void 0:j.hidden)?(N.push(W),null):ge===0&&l.isValidElement(W)&&F?l.cloneElement(W,(0,h.Z)((0,h.Z)({},W.props),{},{autoFocus:F})):W});return[l.createElement(O,{key:"children",Wrapper:ne},Q),N.length>0?l.createElement("div",{style:{display:"none"}},N):null]},[I,O,ne,F]),le=(0,C.Z)(de,2),Pe=le[0],he=le[1];return l.createElement(Ee,null,l.createElement("div",{className:o()(J,(0,b.Z)({},"".concat(J,"-twoLine"),V==="twoLine")),style:K,ref:c},he,($||w||H)&&l.createElement("div",{className:"".concat(J,"-title"),style:me,onClick:function(){pe(!ae)}},H?l.createElement("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"}},ce,l.createElement("span",{onClick:function(Q){return Q.stopPropagation()}},H)):ce),R&&ae?null:Pe))});_.displayName="ProForm-Group";var f=_,a=e(7525),m=e(88374);function E(r){return l.createElement(m.I,(0,t.Z)({layout:"vertical",submitter:{render:function(T,x){return x.reverse()}},contentRender:function(T,x){return l.createElement(l.Fragment,null,T,x)}},r))}E.Group=f,E.useForm=y.Z.useForm,E.Item=a.Z},53621:function(S,D,e){"use strict";var v=e(22385),y=e(61580),t=e(96156),l=e(84305),b=e(75901),P=e(67294),M=e(68628),A=e(47369),L=e.n(A),C=e(94184),h=e.n(C),i=function(p){var n=p.label,d=p.tooltip,s=p.ellipsis,o=p.subTitle,Z=(0,P.useContext)(b.ZP.ConfigContext),_=Z.getPrefixCls;if(!d&&!o)return P.createElement(P.Fragment,null,n);var f=_("pro-core-label-tip"),a=typeof d=="string"||P.isValidElement(d)?{title:d}:d,m=(a==null?void 0:a.icon)||P.createElement(M.Z,null);return P.createElement("div",{className:f,onMouseDown:function(r){return r.stopPropagation()},onMouseLeave:function(r){return r.stopPropagation()},onMouseMove:function(r){return r.stopPropagation()}},P.createElement("div",{className:h()("".concat(f,"-title"),(0,t.Z)({},"".concat(f,"-title-ellipsis"),s))},n),o&&P.createElement("div",{className:"".concat(f,"-subtitle")},o),d&&P.createElement(y.Z,a,P.createElement("span",{className:"".concat(f,"-icon")},m)))};D.Z=P.memo(i)},96138:function(){},56640:function(){},47369:function(){},70347:function(){},23689:function(S,D,e){"use strict";e.d(D,{yC:function(){return b},QX:function(){return M},FO:function(){return L},Vx:function(){return h},a1:function(){return u},Od:function(){return n}});var v=e(3182),y=e(94043),t=e.n(y),l=e(39031);function b(s){return P.apply(this,arguments)}function P(){return P=(0,v.Z)(t().mark(function s(o){return t().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,l.v_)("/api/resources/search",o);case 2:return _.abrupt("return",_.sent);case 3:case"end":return _.stop()}},s)})),P.apply(this,arguments)}function M(s,o){return A.apply(this,arguments)}function A(){return A=(0,v.Z)(t().mark(function s(o,Z){return t().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,(0,l.v_)("/api/resources/count",o,Z);case 2:return f.abrupt("return",f.sent);case 3:case"end":return f.stop()}},s)})),A.apply(this,arguments)}function L(s,o){return C.apply(this,arguments)}function C(){return C=(0,v.Z)(t().mark(function s(o,Z){return t().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,(0,l.U2)("/api/resources/detail?id=".concat(o),{},Z);case 2:return f.abrupt("return",f.sent);case 3:case"end":return f.stop()}},s)})),C.apply(this,arguments)}function h(s){return i.apply(this,arguments)}function i(){return i=(0,v.Z)(t().mark(function s(o){return t().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,l.gz)("/api/resources/update",o);case 2:return _.abrupt("return",_.sent);case 3:case"end":return _.stop()}},s)})),i.apply(this,arguments)}function u(s){return p.apply(this,arguments)}function p(){return p=(0,v.Z)(t().mark(function s(o){return t().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,l.v_)("/api/resources/create",o);case 2:return _.abrupt("return",_.sent);case 3:case"end":return _.stop()}},s)})),p.apply(this,arguments)}function n(s,o){return d.apply(this,arguments)}function d(){return d=(0,v.Z)(t().mark(function s(o,Z){return t().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,(0,l.IV)("/api/resources/delete?id=".concat(o),{},Z);case 2:return f.abrupt("return",f.sent);case 3:case"end":return f.stop()}},s)})),d.apply(this,arguments)}},76410:function(S,D,e){"use strict";e.r(D);var v=e(58024),y=e(39144),t=e(34792),l=e(48086),b=e(11849),P=e(3182),M=e(2824),A=e(94043),L=e.n(A),C=e(952),h=e(5966),i=e(64317),u=e(43581),p=e(75362),n=e(23689),d=e(67294),s=e(85893),o=function(_){var f=(0,d.useState)(null),a=(0,M.Z)(f,2),m=a[0],E=a[1];(0,d.useEffect)(function(){var c=_.match.params.id,T=function(){var x=(0,P.Z)(L().mark(function g(I){var R;return L().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.next=2,(0,n.FO)(I);case 2:R=K.sent,E(R);case 4:case"end":return K.stop()}},g)}));return function(I){return x.apply(this,arguments)}}();T(c)},[]);var r=function(){var c=(0,P.Z)(L().mark(function T(x){var g;return L().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return console.log(x),R.next=3,(0,n.Vx)((0,b.Z)({_id:m._id},x));case 3:g=R.sent,console.log("resource",g),g instanceof Error?l.default.error(g.message):(l.default.success(g.message),u.m8.push("/resources"));case 6:case"end":return R.stop()}},T)}));return function(x){return c.apply(this,arguments)}}();return m&&(0,s.jsx)(p.ZP,{content:"My amazing role update form",children:(0,s.jsx)(y.Z,{bordered:!1,children:(0,s.jsxs)(C.ZP,{hideRequiredMark:!1,style:{margin:"auto",marginTop:8,maxWidth:600},name:"basic",layout:"vertical",initialValues:m,onFinish:r,children:[(0,s.jsx)(h.Z,{width:"md",label:"Name",name:"name",value:m.name,rules:[{required:!0,message:"Please enter role name"}],placeholder:"Please enter role name"}),(0,s.jsx)(h.Z,{width:"md",label:"Alias",name:"alias",value:m.alias,rules:[{required:!0,message:"Please enter the Alias"}],placeholder:"Please enter role alias"}),(0,s.jsx)(i.Z,{width:"md",name:"type",label:"Resource type",options:[{value:"api",label:"Api"},{value:"client",label:"Client"}],placeholder:"Please select a type",rules:[{required:!0,message:"Please select a type"}]})]})})})};D.default=o},39031:function(S,D,e){"use strict";e.d(D,{U2:function(){return M},v_:function(){return A},gz:function(){return L},IV:function(){return C}});var v=e(3182),y=e(11849),t=e(94043),l=e.n(t),b=e(11238),P=e(43581);b.ZP.interceptors.request.use(function(h,i){var u=localStorage.getItem("auth");if(u&&JSON.parse(u)){var p=JSON.parse(u),n=p.token;n?i.headers.Authorization="Bearer ".concat(n):i.headers.Authorization=null}return console.log("url","http://localhost:8002",h),i.headers["rbac-client-time"]="".concat(new Date," "),{url:"".concat("http://localhost:8002").concat(h),options:(0,y.Z)((0,y.Z)({},i),{},{interceptors:!0})}}),b.ZP.interceptors.response.use(function(){var h=(0,v.Z)(l().mark(function i(u,p){var n,d;return l().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(u.status!==401){o.next=4;break}return localStorage.removeItem("auth"),P.m8.replace({pathname:"/user/login"}),o.abrupt("return",{name:u.name});case 4:if(u.status!==403){o.next=7;break}return P.m8.replace({pathname:"/exception/403"}),o.abrupt("return",{name:u.name});case 7:if(u.status!==404){o.next=10;break}return P.m8.replace({pathname:"/exception/404"}),o.abrupt("return",{name:u.name});case 10:if(u.status!==400){o.next=18;break}return o.next=13,u.clone().json();case 13:return n=o.sent,console.log("data",n),d=new Error(n.message),d.error=n.error,o.abrupt("return",d);case 18:return o.abrupt("return",u);case 19:case"end":return o.stop()}},i)}));return function(i,u){return h.apply(this,arguments)}}());var M=function(){var h=(0,v.Z)(l().mark(function i(u,p,n){return l().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,b.ZP)(u,(0,y.Z)({method:"GET",params:p,skipErrorHandler:!0},n||{})));case 1:case"end":return s.stop()}},i)}));return function(u,p,n){return h.apply(this,arguments)}}(),A=function(){var h=(0,v.Z)(l().mark(function i(u,p,n){return l().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,b.ZP)(u,(0,y.Z)({method:"POST",data:p,skipErrorHandler:!0},n||{}));case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},i)}));return function(u,p,n){return h.apply(this,arguments)}}(),L=function(){var h=(0,v.Z)(l().mark(function i(u,p,n){return l().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,b.ZP)(u,(0,y.Z)({method:"PUT",data:p,skipErrorHandler:!0},n||{})));case 1:case"end":return s.stop()}},i)}));return function(u,p,n){return h.apply(this,arguments)}}(),C=function(){var h=(0,v.Z)(l().mark(function i(u,p,n){return l().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,b.ZP)(u,(0,y.Z)({method:"DELETE",data:p,skipErrorHandler:!0},n||{})));case 1:case"end":return s.stop()}},i)}));return function(u,p,n){return h.apply(this,arguments)}}()},39144:function(S,D,e){"use strict";e.d(D,{Z:function(){return f}});var v=e(96156),y=e(22122),t=e(67294),l=e(94184),b=e.n(l),P=e(98423),M=e(65632),A=function(a,m){var E={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&m.indexOf(r)<0&&(E[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,r=Object.getOwnPropertySymbols(a);c<r.length;c++)m.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(a,r[c])&&(E[r[c]]=a[r[c]]);return E},L=function(m){var E=m.prefixCls,r=m.className,c=m.hoverable,T=c===void 0?!0:c,x=A(m,["prefixCls","className","hoverable"]);return t.createElement(M.C,null,function(g){var I=g.getPrefixCls,R=I("card",E),B=b()("".concat(R,"-grid"),r,(0,v.Z)({},"".concat(R,"-grid-hoverable"),T));return t.createElement("div",(0,y.Z)({},x,{className:B}))})},C=L,h=function(a,m){var E={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&m.indexOf(r)<0&&(E[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,r=Object.getOwnPropertySymbols(a);c<r.length;c++)m.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(a,r[c])&&(E[r[c]]=a[r[c]]);return E},i=function(m){return t.createElement(M.C,null,function(E){var r=E.getPrefixCls,c=m.prefixCls,T=m.className,x=m.avatar,g=m.title,I=m.description,R=h(m,["prefixCls","className","avatar","title","description"]),B=r("card",c),K=b()("".concat(B,"-meta"),T),V=x?t.createElement("div",{className:"".concat(B,"-meta-avatar")},x):null,z=g?t.createElement("div",{className:"".concat(B,"-meta-title")},g):null,$=I?t.createElement("div",{className:"".concat(B,"-meta-description")},I):null,w=z||$?t.createElement("div",{className:"".concat(B,"-meta-detail")},z,$):null;return t.createElement("div",(0,y.Z)({},R,{className:K}),V,w)})},u=i,p=e(51752),n=e(71230),d=e(15746),s=e(97647),o=function(a,m){var E={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&m.indexOf(r)<0&&(E[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,r=Object.getOwnPropertySymbols(a);c<r.length;c++)m.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(a,r[c])&&(E[r[c]]=a[r[c]]);return E};function Z(a){var m=a.map(function(E,r){return t.createElement("li",{style:{width:"".concat(100/a.length,"%")},key:"action-".concat(r)},t.createElement("span",null,E))});return m}var _=t.forwardRef(function(a,m){var E,r,c=t.useContext(M.E_),T=c.getPrefixCls,x=c.direction,g=t.useContext(s.Z),I=function(_e){var X;(X=a.onTabChange)===null||X===void 0||X.call(a,_e)},R=function(){var _e;return t.Children.forEach(a.children,function(X){X&&X.type&&X.type===C&&(_e=!0)}),_e},B=a.prefixCls,K=a.className,V=a.extra,z=a.headStyle,$=z===void 0?{}:z,w=a.bodyStyle,Y=w===void 0?{}:w,k=a.title,q=a.loading,ee=a.bordered,se=ee===void 0?!0:ee,me=a.size,te=a.type,G=a.cover,H=a.actions,F=a.tabList,ve=a.children,re=a.activeTabKey,ae=a.defaultActiveTabKey,pe=a.tabBarExtraContent,fe=a.hoverable,oe=a.tabProps,ie=oe===void 0?{}:oe,Ee=o(a,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),O=T("card",B),J=Y.padding===0||Y.padding==="0px"?{padding:24}:void 0,U=t.createElement("div",{className:"".concat(O,"-loading-block")}),ue=t.createElement("div",{className:"".concat(O,"-loading-content"),style:J},t.createElement(n.Z,{gutter:8},t.createElement(d.Z,{span:22},U)),t.createElement(n.Z,{gutter:8},t.createElement(d.Z,{span:8},U),t.createElement(d.Z,{span:15},U)),t.createElement(n.Z,{gutter:8},t.createElement(d.Z,{span:6},U),t.createElement(d.Z,{span:18},U)),t.createElement(n.Z,{gutter:8},t.createElement(d.Z,{span:13},U),t.createElement(d.Z,{span:9},U)),t.createElement(n.Z,{gutter:8},t.createElement(d.Z,{span:4},U),t.createElement(d.Z,{span:3},U),t.createElement(d.Z,{span:16},U))),ne=re!==void 0,ce=(0,y.Z)((0,y.Z)({},ie),(E={},(0,v.Z)(E,ne?"activeKey":"defaultActiveKey",ne?re:ae),(0,v.Z)(E,"tabBarExtraContent",pe),E)),de,le=F&&F.length?t.createElement(p.Z,(0,y.Z)({size:"large"},ce,{className:"".concat(O,"-head-tabs"),onChange:I}),F.map(function(j){return t.createElement(p.Z.TabPane,{tab:j.tab,disabled:j.disabled,key:j.key})})):null;(k||V||le)&&(de=t.createElement("div",{className:"".concat(O,"-head"),style:$},t.createElement("div",{className:"".concat(O,"-head-wrapper")},k&&t.createElement("div",{className:"".concat(O,"-head-title")},k),V&&t.createElement("div",{className:"".concat(O,"-extra")},V)),le));var Pe=G?t.createElement("div",{className:"".concat(O,"-cover")},G):null,he=t.createElement("div",{className:"".concat(O,"-body"),style:Y},q?ue:ve),N=H&&H.length?t.createElement("ul",{className:"".concat(O,"-actions")},Z(H)):null,Q=(0,P.Z)(Ee,["onTabChange"]),W=me||g,ge=b()(O,(r={},(0,v.Z)(r,"".concat(O,"-loading"),q),(0,v.Z)(r,"".concat(O,"-bordered"),se),(0,v.Z)(r,"".concat(O,"-hoverable"),fe),(0,v.Z)(r,"".concat(O,"-contain-grid"),R()),(0,v.Z)(r,"".concat(O,"-contain-tabs"),F&&F.length),(0,v.Z)(r,"".concat(O,"-").concat(W),W),(0,v.Z)(r,"".concat(O,"-type-").concat(te),!!te),(0,v.Z)(r,"".concat(O,"-rtl"),x==="rtl"),r),K);return t.createElement("div",(0,y.Z)({ref:m},Q,{className:ge}),de,Pe,he,N)});_.Grid=C,_.Meta=u;var f=_},58024:function(S,D,e){"use strict";var v=e(38663),y=e.n(v),t=e(70347),l=e.n(t),b=e(18106),P=e(13062),M=e(89032)}}]);
