(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[2171],{59997:function(E){E.exports={container:"container___3hUMQ",lang:"lang___2tGuf",content:"content___KxH2p",top:"top___3EHng",header:"header___3glEG",logo:"logo___1jOCR",title:"title___2stRE",desc:"desc___2qWiN",main:"main___11xV0",icon:"icon___2JJig",other:"other___2-POa",register:"register___3PCc9",prefixIcon:"prefixIcon___qqmP1"}},89425:function(E,h,t){"use strict";t.r(h),t.d(h,{default:function(){return a}});var f=t(34792),_=t(48086),v=t(3182),o=t(94043),i=t.n(o),p=t(67294),y=t(73631),b=t(43581),P=t(39031);function Z(c){return s.apply(this,arguments)}function s(){return s=(0,v.Z)(i().mark(function c(r){var u;return i().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,(0,P.v_)("/api/auth/activate-account",r);case 2:return u=m.sent,m.abrupt("return",u);case 4:case"end":return m.stop()}},c)})),s.apply(this,arguments)}var n=t(59997),e=t(85893),l=function(r){return(0,p.useEffect)(function(){var u=r.location.query.token;console.log("token",u);var O=function(){var m=(0,v.Z)(i().mark(function A(){var g;return i().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Z({token:u});case 2:g=d.sent,g instanceof Error?_.default.error(g.message):_.default.success(g.message),b.m8.push("/user/login");case 5:case"end":return d.stop()}},A)}));return function(){return m.apply(this,arguments)}}();O()},[]),(0,e.jsx)(e.Fragment,{})},a=l},39031:function(E,h,t){"use strict";t.d(h,{U2:function(){return y},v_:function(){return b},gz:function(){return P},IV:function(){return Z}});var f=t(3182),_=t(11849),v=t(94043),o=t.n(v),i=t(11238),p=t(43581);i.ZP.interceptors.request.use(function(s,n){var e=localStorage.getItem("auth");if(e&&JSON.parse(e)){var l=JSON.parse(e),a=l.token;a?n.headers.Authorization="Bearer ".concat(a):n.headers.Authorization=null}return console.log("url","http://localhost:8002",s),n.headers["rbac-client-time"]="".concat(new Date," "),{url:"".concat("http://localhost:8002").concat(s),options:(0,_.Z)((0,_.Z)({},n),{},{interceptors:!0})}}),i.ZP.interceptors.response.use(function(){var s=(0,f.Z)(o().mark(function n(e,l){var a,c;return o().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(e.status!==401){u.next=4;break}return localStorage.removeItem("auth"),p.m8.replace({pathname:"/user/login"}),u.abrupt("return",{name:e.name});case 4:if(e.status!==403){u.next=7;break}return p.m8.replace({pathname:"/exception/403"}),u.abrupt("return",{name:e.name});case 7:if(e.status!==404){u.next=10;break}return p.m8.replace({pathname:"/exception/404"}),u.abrupt("return",{name:e.name});case 10:if(e.status!==400){u.next=18;break}return u.next=13,e.clone().json();case 13:return a=u.sent,console.log("data",a),c=new Error(a.message),c.error=a.error,u.abrupt("return",c);case 18:return u.abrupt("return",e);case 19:case"end":return u.stop()}},n)}));return function(n,e){return s.apply(this,arguments)}}());var y=function(){var s=(0,f.Z)(o().mark(function n(e,l,a){return o().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,i.ZP)(e,(0,_.Z)({method:"GET",params:l,skipErrorHandler:!0},a||{})));case 1:case"end":return r.stop()}},n)}));return function(e,l,a){return s.apply(this,arguments)}}(),b=function(){var s=(0,f.Z)(o().mark(function n(e,l,a){return o().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,i.ZP)(e,(0,_.Z)({method:"POST",data:l,skipErrorHandler:!0},a||{}));case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},n)}));return function(e,l,a){return s.apply(this,arguments)}}(),P=function(){var s=(0,f.Z)(o().mark(function n(e,l,a){return o().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,i.ZP)(e,(0,_.Z)({method:"PUT",data:l,skipErrorHandler:!0},a||{})));case 1:case"end":return r.stop()}},n)}));return function(e,l,a){return s.apply(this,arguments)}}(),Z=function(){var s=(0,f.Z)(o().mark(function n(e,l,a){return o().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,i.ZP)(e,(0,_.Z)({method:"DELETE",data:l,skipErrorHandler:!0},a||{})));case 1:case"end":return r.stop()}},n)}));return function(e,l,a){return s.apply(this,arguments)}}()}}]);
