(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[3221],{90380:function(A,M,a){"use strict";a.d(M,{yC:function(){return f},QX:function(){return U},FO:function(){return P},Vx:function(){return o},a1:function(){return t},Od:function(){return u}});var m=a(3182),b=a(94043),c=a.n(b),i=a(39031);function f(e){return v.apply(this,arguments)}function v(){return v=(0,m.Z)(c().mark(function e(n){return c().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,i.v_)("/api/products/search",n);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},e)})),v.apply(this,arguments)}function U(e,n){return g.apply(this,arguments)}function g(){return g=(0,m.Z)(c().mark(function e(n,h){return c().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,i.v_)("/api/products/count",n,h);case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},e)})),g.apply(this,arguments)}function P(e,n){return D.apply(this,arguments)}function D(){return D=(0,m.Z)(c().mark(function e(n,h){return c().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,i.U2)("/api/products/detail?id=".concat(n),{},h);case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},e)})),D.apply(this,arguments)}function o(e){return _.apply(this,arguments)}function _(){return _=(0,m.Z)(c().mark(function e(n){return c().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,i.gz)("/api/products/update",n);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},e)})),_.apply(this,arguments)}function t(e){return l.apply(this,arguments)}function l(){return l=(0,m.Z)(c().mark(function e(n){return c().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,i.v_)("/api/products/create",n);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},e)})),l.apply(this,arguments)}function u(e,n){return d.apply(this,arguments)}function d(){return d=(0,m.Z)(c().mark(function e(n,h){return c().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,i.IV)("/api/products/delete?id=".concat(n),{},h);case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},e)})),d.apply(this,arguments)}},73244:function(A,M,a){"use strict";a.r(M);var m=a(58024),b=a(39144),c=a(11849),i=a(34792),f=a(48086),v=a(3182),U=a(2824),g=a(94043),P=a.n(g),D=a(952),o=a(5966),_=a(90672),t=a(31199),l=a(86615),u=a(45510),d=a(43581),e=a(75362),n=a(90380),h=a(67294),r=a(85893),s=function(L){var K=(0,h.useState)(null),B=(0,U.Z)(K,2),E=B[0],R=B[1];(0,h.useEffect)(function(){var O=L.match.params.id,p=function(){var T=(0,v.Z)(P().mark(function C(y){var I;return P().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,(0,n.FO)(y);case 2:I=Z.sent,I.size>3&&(I.size=4),R(I);case 5:case"end":return Z.stop()}},C)}));return function(y){return T.apply(this,arguments)}}();p(O)},[]);var W=(0,d.QT)(n.Vx,{manual:!0,onSuccess:function(p){f.default.success("Product is saved",p),d.m8.push("/products")},onError:function(p){console.log(p),f.default.error("Error happened ",p)}}),j=W.run,w=function(){var O=(0,v.Z)(P().mark(function p(T){return P().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:console.log(T),j((0,c.Z)({_id:E._id},T));case 2:case"end":return y.stop()}},p)}));return function(T){return O.apply(this,arguments)}}();return E&&(0,r.jsx)(e.ZP,{content:"My amazing product update form",children:(0,r.jsx)(b.Z,{bordered:!1,children:(0,r.jsxs)(D.ZP,{hideRequiredMark:!1,style:{margin:"auto",marginTop:8,maxWidth:600},name:"basic",layout:"vertical",initialValues:E,onFinish:w,children:[(0,r.jsx)(o.Z,{width:"md",label:"Name",name:"name",value:E.name,rules:[{required:!0,message:"Please enter product name"}],placeholder:"Please enter product name"}),(0,r.jsx)(o.Z,{width:"md",label:"SKU",name:"sku",value:E.sku,rules:[{required:!0,message:"Please enter the SKU"}],placeholder:"Please enter product sku"}),(0,r.jsx)(_.Z,{label:"Description",width:"xl",name:"description",value:E.description,rules:[{required:!0,message:"Please enter description"}],placeholder:"Please enter product description"}),(0,r.jsx)(t.Z,{label:(0,r.jsx)("span",{children:"Cost"}),name:"cost",value:E.cost,placeholder:"Please enter product cost",min:0,width:"md",fieldProps:{formatter:function(p){return"".concat(p||0)}}}),(0,r.jsx)(t.Z,{label:(0,r.jsx)("span",{children:"Price"}),name:"price",value:E.price,placeholder:"Please enter product price",min:0,width:"md",fieldProps:{formatter:function(p){return"".concat(p||0)}}}),(0,r.jsx)(l.Z.Group,{options:[{value:1,label:"Small"},{value:2,label:"Medium"},{value:3,label:"Large"},{value:4,label:"X-Large"}],label:"Size",value:E.size,name:"size"}),(0,r.jsx)(u.Z,{width:"md",name:"manufacturingDate",value:E.manufacturingDate,label:"Manufacturing date"}),(0,r.jsx)(u.Z,{width:"md",name:"expiryDate",value:E.expiryDate,label:"Expiry date"})]})})})};M.default=s},39031:function(A,M,a){"use strict";a.d(M,{U2:function(){return U},v_:function(){return g},gz:function(){return P},IV:function(){return D}});var m=a(3182),b=a(11849),c=a(94043),i=a.n(c),f=a(11238),v=a(43581);f.ZP.interceptors.request.use(function(o,_){var t=localStorage.getItem("auth");if(t&&JSON.parse(t)){var l=JSON.parse(t),u=l.token;u?_.headers.Authorization="Bearer ".concat(u):_.headers.Authorization=null}return console.log("url","http://localhost:8002",o),_.headers["rbac-client-time"]="".concat(new Date," "),{url:"".concat("http://localhost:8002").concat(o),options:(0,b.Z)((0,b.Z)({},_),{},{interceptors:!0})}}),f.ZP.interceptors.response.use(function(){var o=(0,m.Z)(i().mark(function _(t,l){var u,d;return i().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.status!==401){n.next=4;break}return localStorage.removeItem("auth"),v.m8.replace({pathname:"/user/login"}),n.abrupt("return",{name:t.name});case 4:if(t.status!==403){n.next=7;break}return v.m8.replace({pathname:"/exception/403"}),n.abrupt("return",{name:t.name});case 7:if(t.status!==404){n.next=10;break}return v.m8.replace({pathname:"/exception/404"}),n.abrupt("return",{name:t.name});case 10:if(t.status!==400){n.next=18;break}return n.next=13,t.clone().json();case 13:return u=n.sent,console.log("data",u),d=new Error(u.message),d.error=u.error,n.abrupt("return",d);case 18:return n.abrupt("return",t);case 19:case"end":return n.stop()}},_)}));return function(_,t){return o.apply(this,arguments)}}());var U=function(){var o=(0,m.Z)(i().mark(function _(t,l,u){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.ZP)(t,(0,b.Z)({method:"GET",params:l,skipErrorHandler:!0},u||{})));case 1:case"end":return e.stop()}},_)}));return function(t,l,u){return o.apply(this,arguments)}}(),g=function(){var o=(0,m.Z)(i().mark(function _(t,l,u){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.ZP)(t,(0,b.Z)({method:"POST",data:l,skipErrorHandler:!0},u||{}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},_)}));return function(t,l,u){return o.apply(this,arguments)}}(),P=function(){var o=(0,m.Z)(i().mark(function _(t,l,u){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.ZP)(t,(0,b.Z)({method:"PUT",data:l,skipErrorHandler:!0},u||{})));case 1:case"end":return e.stop()}},_)}));return function(t,l,u){return o.apply(this,arguments)}}(),D=function(){var o=(0,m.Z)(i().mark(function _(t,l,u){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.ZP)(t,(0,b.Z)({method:"DELETE",data:l,skipErrorHandler:!0},u||{})));case 1:case"end":return e.stop()}},_)}));return function(t,l,u){return o.apply(this,arguments)}}()}}]);
